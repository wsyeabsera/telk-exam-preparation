/**
 * New unique questions for conjunction tests (mini-12 through mini-15).
 */

const opt = (a, b, c, d) => [{ id: "a", text: a }, { id: "b", text: b }, { id: "c", text: c }, { id: "d", text: d }];

function weilDass(n) {
  const qs = [
    { type: "multiple-choice", text: "Er geht nicht mit, weil er Kopfschmerzen ___.", options: opt("hat", "haben", "hast", "hatte"), correctAnswerId: "a", explanation: "weil sends verb to end: er hat", explanationDetail: "Weil sends the verb to the end. Er hat Kopfschmerzen (he has a headache). Subject er → hat.", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Sie meint, dass das Konzert toll ___.", options: opt("war", "sein", "waren", "warst"), correctAnswerId: "a", explanation: "dass sends verb to end: war", explanationDetail: "Dass sends the verb to the end. Das Konzert war toll (the concert was great).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Wir warten, weil der Bus Verspätung ___.", options: opt("hat", "haben", "hast", "hatte"), correctAnswerId: "a", explanation: "weil sends verb to end: der Bus hat", explanationDetail: "Weil sends the verb to the end. Der Bus hat Verspätung (the bus is delayed).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Ich habe gehört, dass ihr morgen ___.", options: opt("reist", "reisen", "fährst", "reise"), correctAnswerId: "a", explanation: "dass sends verb to end: ihr reist", explanationDetail: "Dass sends the verb to the end. Ihr reist (you're travelling).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Du bleibst im Bett, weil du Fieber ___.", options: opt("hast", "haben", "hat", "habt"), correctAnswerId: "a", explanation: "weil sends verb to end: du hast", explanationDetail: "Weil sends the verb to the end. Du hast Fieber (you have a fever).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er sagt, dass die Geschäfte heute ___.", options: opt("schließen", "schließt", "schließe", "schließt"), correctAnswerId: "a", explanation: "dass sends verb to end: plural verb", explanationDetail: "Dass sends the verb to the end. Die Geschäfte schließen (the shops close). Plural subject.", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Sie isst nichts, weil sie keinen Hunger ___.", options: opt("hat", "haben", "hast", "habt"), correctAnswerId: "a", explanation: "weil sends verb to end: sie hat", explanationDetail: "Weil sends the verb to the end. Sie hat keinen Hunger (she's not hungry).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Ich glaube, dass er heute Abend ___.", options: opt("anruft", "anrufen", "anrufe", "anrufst"), correctAnswerId: "a", explanation: "dass sends verb to end: er anruft", explanationDetail: "Dass sends the verb to the end. Er ruft an (separable: anruft at end).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Die Kinder spielen draußen, weil das Wetter schön ___.", options: opt("ist", "sein", "sind", "bist"), correctAnswerId: "a", explanation: "weil sends verb to end: das Wetter ist", explanationDetail: "Weil sends the verb to the end. Das Wetter ist schön (the weather is nice).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er fragt, ob du mit ihm ___.", options: opt("kommst", "kommen", "komme", "kommt"), correctAnswerId: "a", explanation: "ob sends verb to end: du kommst", explanationDetail: "Ob (whether) is subordinating like dass. Du kommst mit (you're coming along).", tags: ["conjunctions", "subordinating", "dass"] },
  ];
  const more = [
    { type: "multiple-choice", text: "Wir können nicht kommen, weil wir Gäste ___.", options: opt("haben", "hat", "hast", "hatte"), correctAnswerId: "a", explanation: "weil sends verb to end: wir haben", explanationDetail: "Weil sends the verb to the end. Wir haben Gäste (we have guests).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Sie denkt, dass ich den Zug ___.", options: opt("verpasse", "verpassen", "verpasst", "verpass"), correctAnswerId: "a", explanation: "dass sends verb to end: ich verpasse", explanationDetail: "Dass sends the verb to the end. Ich verpasse den Zug (I miss the train).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Ich bin traurig, weil mein Freund weggezogen ___.", options: opt("ist", "sein", "sind", "hat"), correctAnswerId: "a", explanation: "weil + Perfekt: ist at end", explanationDetail: "With Perfekt in subordinate clause: weggezogen ist. Mein Freund ist weggezogen (my friend has moved away).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er weiß, dass wir ihn ___.", options: opt("verstehen", "versteht", "verstehe", "verstehst"), correctAnswerId: "a", explanation: "dass sends verb to end: wir verstehen", explanationDetail: "Dass sends the verb to the end. Wir verstehen ihn (we understand him).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Du lernst schnell, weil du viel ___.", options: opt("übst", "üben", "übt", "übe"), correctAnswerId: "a", explanation: "weil sends verb to end: du übst", explanationDetail: "Weil sends the verb to the end. Du übst (you practice).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Ich hoffe, dass sie sich ___.", options: opt("entschuldigt", "entschuldigen", "entschuldige", "entschuldigst"), correctAnswerId: "a", explanation: "dass sends verb to end: sie entschuldigt sich", explanationDetail: "Dass sends the verb to the end. Reflexive: sich entschuldigen (to apologize).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Sie bleibt zu Hause, weil ihr Kind krank ___.", options: opt("ist", "sein", "sind", "war"), correctAnswerId: "a", explanation: "weil sends verb to end: Kind ist", explanationDetail: "Weil sends the verb to the end. Ihr Kind ist krank (her child is sick).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er erzählt, dass die Prüfung schwer ___.", options: opt("war", "sein", "waren", "wart"), correctAnswerId: "a", explanation: "dass sends verb to end: war", explanationDetail: "Dass sends the verb to the end. Die Prüfung war schwer (the exam was difficult).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Ihr geht früh, weil ihr müde ___.", options: opt("seid", "sind", "bin", "ist"), correctAnswerId: "a", explanation: "weil sends verb to end: ihr seid", explanationDetail: "Weil sends the verb to the end. Ihr seid müde (you're tired).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Wir sehen, dass du dich ___.", options: opt("freust", "freuen", "freut", "freue"), correctAnswerId: "a", explanation: "dass sends verb to end: du freust dich", explanationDetail: "Dass sends the verb to the end. Du freust dich (you're happy). Reflexive.", tags: ["conjunctions", "subordinating", "dass"] },
  ];
  const extra = [
    { type: "multiple-choice", text: "Der Zug fällt aus, weil es Streik ___.", options: opt("gibt", "geben", "gibst", "gebe"), correctAnswerId: "a", explanation: "weil sends verb to end: es gibt", explanationDetail: "Weil sends the verb to the end. Es gibt Streik (there's a strike).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Sie sagt, dass die Kinder schon ___.", options: opt("schlafen", "schläft", "schläfst", "schafe"), correctAnswerId: "a", explanation: "dass sends verb to end: Kinder schlafen", explanationDetail: "Dass sends the verb to the end. Die Kinder schlafen (the children are sleeping).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Ich bin froh, weil alles gut ___.", options: opt("gegangen ist", "ist gegangen", "gehen ist", "gegangen"), correctAnswerId: "a", explanation: "weil + Perfekt: participle + ist at end", explanationDetail: "Perfekt in subordinate clause: alles gut gegangen ist (everything went well).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er meint, dass du recht ___.", options: opt("hast", "haben", "hat", "habt"), correctAnswerId: "a", explanation: "dass sends verb to end: du hast", explanationDetail: "Dass sends the verb to the end. Du hast recht (you're right).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Sie weint, weil sie den Schlüssel ___.", options: opt("verloren hat", "hat verloren", "verloren", "verlieren hat"), correctAnswerId: "a", explanation: "weil + Perfekt: verloren hat at end", explanationDetail: "Perfekt in subordinate clause: sie den Schlüssel verloren hat (she has lost the key).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Du weißt, dass ich dich ___.", options: opt("verstehe", "verstehen", "versteht", "verstehst"), correctAnswerId: "a", explanation: "dass sends verb to end: ich verstehe", explanationDetail: "Dass sends the verb to the end. Ich verstehe dich (I understand you).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Wir bleiben, weil die Vorstellung gleich ___.", options: opt("beginnt", "beginnen", "beginne", "beginnt"), correctAnswerId: "a", explanation: "weil sends verb to end: die Vorstellung beginnt", explanationDetail: "Weil sends the verb to the end. Die Vorstellung beginnt (the show begins).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er behauptet, dass sie gelogen ___.", options: opt("hat", "haben", "hatte", "hast"), correctAnswerId: "a", explanation: "dass + Perfekt: hat at end", explanationDetail: "Perfekt in dass-clause: sie gelogen hat (she has lied).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Die Schüler gehen nach Hause, weil die Schule ___.", options: opt("aus ist", "ist aus", "aus", "sein aus"), correctAnswerId: "a", explanation: "weil sends verb to end: Schule aus ist", explanationDetail: "Schluss sein (to be over): die Schule ist aus. In subordinate: ... aus ist.", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Ich finde, dass du zu schnell ___.", options: opt("fährst", "fahren", "fahre", "fährt"), correctAnswerId: "a", explanation: "dass sends verb to end: du fährst", explanationDetail: "Dass sends the verb to the end. Du fährst (you drive). Strong verb.", tags: ["conjunctions", "subordinating", "dass"] },
  ];
  const all = [...qs, ...more, ...extra];
  const more2 = [
    { type: "multiple-choice", text: "Sie ist glücklich, weil sie die Prüfung ___.", options: opt("bestanden hat", "hat bestanden", "bestanden", "bestanden ist"), correctAnswerId: "a", explanation: "weil + Perfekt", explanationDetail: "Perfekt in subordinate: bestanden hat at end.", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Er vermutet, dass wir uns ___.", options: opt("irren", "irrt", "irre", "irrst"), correctAnswerId: "a", explanation: "dass sends verb to end", explanationDetail: "Wir irren uns (we're wrong).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Wir gehen nicht, weil wir ___.", options: opt("keine Karten haben", "haben keine Karten", "keine Karten", "haben"), correctAnswerId: "a", explanation: "weil sends verb to end", explanationDetail: "Wir haben keine Karten (we don't have tickets).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Ich vermute, dass er heute ___.", options: opt("arbeitet", "arbeiten", "arbeitest", "arbeite"), correctAnswerId: "a", explanation: "dass sends verb to end", explanationDetail: "Er arbeitet (he's working).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Du gehst, weil du ___.", options: opt("musst", "müssen", "muss", "müsst"), correctAnswerId: "a", explanation: "weil sends verb to end", explanationDetail: "Du musst (you have to).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Sie bestätigt, dass die Lieferung morgen ___.", options: opt("kommt", "kommen", "kommst", "komme"), correctAnswerId: "a", explanation: "dass sends verb to end", explanationDetail: "Die Lieferung kommt (the delivery comes).", tags: ["conjunctions", "subordinating", "dass"] },
    { type: "multiple-choice", text: "Er bleibt, weil seine Frau noch ___.", options: opt("arbeitet", "arbeiten", "arbeitest", "arbeite"), correctAnswerId: "a", explanation: "weil sends verb to end", explanationDetail: "Seine Frau arbeitet (his wife is working).", tags: ["conjunctions", "subordinating", "weil"] },
    { type: "multiple-choice", text: "Man sagt, dass es morgen ___.", options: opt("schneit", "schneien", "schneist", "schnee"), correctAnswerId: "a", explanation: "dass sends verb to end", explanationDetail: "Es schneit (it's snowing).", tags: ["conjunctions", "subordinating", "dass"] },
  ];
  return [...all, ...more2].slice(0, n);
}

function wennAls(n) {
  const qs = [
    { type: "multiple-choice", text: "___ du fertig bist, ruf mich an.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when/if (future)", explanationDetail: "Wenn (when/if) for future or repeated. Wenn du fertig bist (when you're ready).", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ ich ihn das letzte Mal sah, war er krank.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als ich ihn sah (when I saw him) - single event.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ es kalt ist, ziehe ich eine Jacke an.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when (repeated)", explanationDetail: "Wenn for repeated or general. Wenn es kalt ist (when it's cold) - happens often.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ sie gestern ankam, war die Tür zu.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als sie ankam (when she arrived) - yesterday, once.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich Zeit habe, lese ich ein Buch.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "a", explanation: "wenn = when (repeated)", explanationDetail: "Wenn for repeated. Wenn ich Zeit habe (when I have time) - habit.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ er Student war, wohnte er in München.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "b", explanation: "als = when (past period)", explanationDetail: "Als for past period. Als er Student war (when he was a student) - one past situation.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du willst, können wir ins Kino gehen.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "a", explanation: "wenn = if (condition)", explanationDetail: "Wenn can mean if. Wenn du willst (if you want) - condition.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ ich sie traf, lachte sie.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als ich sie traf (when I met her).", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ es schneit, fahren wir Ski.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when/if (repeated)", explanationDetail: "Wenn for repeated. Wenn es schneit (when it snows) - can happen many times.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ der Krieg endete, war sie fünf.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past event. Als der Krieg endete (when the war ended).", tags: ["conjunctions", "temporal", "als"] },
  ];
  const more = [
    { type: "multiple-choice", text: "___ ich ihn frage, hilft er mir.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when (repeated)", explanationDetail: "Wenn for repeated. Wenn ich frage (when I ask) - happens whenever I ask.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ wir uns kennenlernten, studierte sie noch.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als wir uns kennenlernten (when we met).", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du mich brauchst, bin ich da.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for future or repeated. Wenn du mich brauchst (when you need me).", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ sie das Haus kaufte, war es billig.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als sie das Haus kaufte (when she bought the house).", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich müde bin, gehe ich früh schlafen.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "a", explanation: "wenn = when (repeated)", explanationDetail: "Wenn for repeated. Wenn ich müde bin (when I'm tired) - habit.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ er den Unfall hatte, war er 20.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als er den Unfall hatte (when he had the accident).", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du kommst, machen wir Kaffee.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when (future)", explanationDetail: "Wenn for future. Wenn du kommst (when you come) - future event.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ die Sonne unterging, wurden wir müde.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als die Sonne unterging (when the sun set).", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich kann, helfe ich dir.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for repeated/future. Wenn ich kann (when I can).", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ er die Nachricht bekam, rief er sofort an.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "b", explanation: "als = when (one-time past)", explanationDetail: "Als for one-time past. Als er die Nachricht bekam (when he got the message).", tags: ["conjunctions", "temporal", "als"] },
  ];
  const extra = [
    { type: "multiple-choice", text: "___ ich frei habe, mache ich Sport.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated/future.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ sie heiratete, war ich dabei.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du Hunger hast, ist das Restaurant offen.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for condition.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ das Telefon klingelte, war ich in der Dusche.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich nervös bin, trinke ich Tee.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ er die Nachricht las, wurde er blass.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du Hilfe brauchst, sag Bescheid.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for future.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ die Ferien begannen, fuhren wir ans Meer.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich ihn besuche, kochen wir zusammen.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ sie den Job bekam, war sie überglücklich.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du mich siehst, wink mir zu.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for future.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ ich das hörte, konnte ich es nicht glauben.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich kann, räume ich auf.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ der Film zu Ende war, gingen wir nach Hause.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du Probleme hast, ruf mich an.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for condition.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ er das sagte, lachte jeder.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ ich aufwache, trinke ich zuerst Kaffee.", options: opt("Wenn", "Als", "Wann", "Ob"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ sie das Haus verließ, schloss sie die Tür ab.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
    { type: "multiple-choice", text: "___ du bereit bist, fahren wir los.", options: opt("Wenn", "Als", "Wann", "Dass"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for future.", tags: ["conjunctions", "temporal", "wenn"] },
    { type: "multiple-choice", text: "___ ich ihn traf, trug er eine Brille.", options: opt("Wenn", "Als", "Wann", "Weil"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "temporal", "als"] },
  ];
  return [...qs, ...more, ...extra].slice(0, n);
}

function contrast(n) {
  const qs = [
    { type: "multiple-choice", text: "Obwohl er reich ___, kauft er keine teuren Sachen.", options: opt("ist", "sein", "sind", "war"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl is subordinating. Obwohl er reich ist (although he's rich).", tags: ["conjunctions", "subordinating", "contrast", "obwohl"] },
    { type: "multiple-choice", text: "Es ist teuer. ___ kaufe ich es.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem = nevertheless", explanationDetail: "Trotzdem (nevertheless). Despite the price, I'm buying it.", tags: ["conjunctions", "coordinating", "contrast", "trotzdem"] },
    { type: "multiple-choice", text: "Ich habe Kopfschmerzen. ___ nehme ich eine Tablette.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb = therefore", explanationDetail: "Deshalb (therefore). Consequence: I have a headache, so I take a tablet.", tags: ["conjunctions", "consequence", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl sie Angst ___, fliegt sie.", options: opt("hat", "haben", "hast", "hatte"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl sie Angst hat (although she's afraid).", tags: ["conjunctions", "subordinating", "contrast", "obwohl"] },
    { type: "multiple-choice", text: "Er hat wenig Zeit. ___ kommt er zum Treffen.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem = nevertheless", explanationDetail: "Trotzdem: despite having little time, he's coming.", tags: ["conjunctions", "coordinating", "trotzdem"] },
    { type: "multiple-choice", text: "Das Wetter ist schlecht. ___ bleiben wir zu Hause.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb = therefore", explanationDetail: "Deshalb: consequence. Bad weather → we stay home.", tags: ["conjunctions", "consequence", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl es spät ___, arbeitet er weiter.", options: opt("ist", "sein", "war", "waren"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl es spät ist (although it's late).", tags: ["conjunctions", "subordinating", "obwohl"] },
    { type: "multiple-choice", text: "Sie mag ihn nicht. ___ hilft sie ihm.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem = nevertheless", explanationDetail: "Trotzdem: contrast. She doesn't like him but helps anyway.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Ich habe Durst. ___ trinke ich Wasser.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb = therefore", explanationDetail: "Deshalb: consequence. Thirsty → drink water.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl der Film lang ___, war er spannend.", options: opt("war", "sein", "waren", "ist"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl der Film lang war (although the film was long).", tags: ["conjunctions", "subordinating", "obwohl"] },
  ];
  const trotzdemDeshalb = [
    { type: "multiple-choice", text: "Er hat kein Geld. ___ kauft er das Buch trotzdem.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Sie hat Prüfung. ___ lernt sie viel.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl wir spät dran sind, ___ wir den Zug.", options: opt("erreichen", "erreicht", "erreiche", "erreichst"), correctAnswerId: "a", explanation: "main clause verb first", explanationDetail: "After obwohl-clause, main clause: verb in position 2.", tags: ["conjunctions", "obwohl"] },
    { type: "multiple-choice", text: "Der Kaffee ist kalt. ___ trinke ich ihn.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Ich habe Durst. ___ hole ich mir etwas zu trinken.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl sie wenig Zeit ___, hilft sie uns.", options: opt("hat", "haben", "hast", "hatte"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl is subordinating.", tags: ["conjunctions", "obwohl"] },
    { type: "multiple-choice", text: "Es war anstrengend. ___ hat es Spaß gemacht.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Der Film war gut. ___ gehen wir wieder ins Kino.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
  ];
  const more2 = [
    { type: "multiple-choice", text: "Obwohl er kein Deutsch ___, versteht er viel.", options: opt("spricht", "sprechen", "sprichst", "spreche"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl is subordinating.", tags: ["conjunctions", "obwohl"] },
    { type: "multiple-choice", text: "Sie hat keine Zeit. ___ nimmt sie sich Zeit für mich.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Ich habe Fieber. ___ bleibe ich im Bett.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl die Straße voll ___, finden wir einen Parkplatz.", options: opt("ist", "sein", "sind", "war"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Obwohl is subordinating.", tags: ["conjunctions", "obwohl"] },
    { type: "multiple-choice", text: "Er ist krank. ___ geht er zur Arbeit.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Die Uhr ist kaputt. ___ kaufe ich eine neue.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl ich ihn ___, grüße ich ihn.", options: opt("nicht mag", "mag nicht", "nicht mögen", "mögen nicht"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Ich mag ihn nicht (I don't like him).", tags: ["conjunctions", "obwohl"] },
    { type: "multiple-choice", text: "Es war teuer. ___ haben wir es genommen.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "b", explanation: "trotzdem", explanationDetail: "Trotzdem = nevertheless.", tags: ["conjunctions", "trotzdem"] },
    { type: "multiple-choice", text: "Sie hat Geburtstag. ___ feiern wir heute.", options: opt("Obwohl", "Trotzdem", "Deshalb", "Weil"), correctAnswerId: "c", explanation: "deshalb", explanationDetail: "Deshalb = therefore.", tags: ["conjunctions", "deshalb"] },
    { type: "multiple-choice", text: "Obwohl wir wenig Geld ___, reisen wir oft.", options: opt("haben", "hat", "hast", "habt"), correctAnswerId: "a", explanation: "obwohl sends verb to end", explanationDetail: "Wir haben wenig Geld.", tags: ["conjunctions", "obwohl"] },
  ];
  const all = [...qs, ...trotzdemDeshalb, ...more2];
  while (all.length < n) all.push(...more2);
  return all.slice(0, n);
}

function mixed(n) {
  const qs = [
    { type: "multiple-choice", text: "Er geht nicht mit, ___ er krank ist.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "a", explanation: "weil = because", explanationDetail: "Weil gives a reason.", tags: ["conjunctions", "mixed", "weil"] },
    { type: "multiple-choice", text: "___ du Lust hast, können wir spielen.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for condition.", tags: ["conjunctions", "mixed", "wenn"] },
    { type: "multiple-choice", text: "Ich habe gehört, ___ du umziehst.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "b", explanation: "dass = that", explanationDetail: "Dass introduces reported information.", tags: ["conjunctions", "mixed", "dass"] },
    { type: "multiple-choice", text: "___ ich klein war, hatte ich einen Hund.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "mixed", "als"] },
    { type: "multiple-choice", text: "Sie weint, ___ sie traurig ist.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "a", explanation: "weil = because", explanationDetail: "Weil gives reason.", tags: ["conjunctions", "mixed", "weil"] },
    { type: "multiple-choice", text: "___ es regnet, nehme ich einen Schirm.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for condition.", tags: ["conjunctions", "mixed", "wenn"] },
    { type: "multiple-choice", text: "Er sagt, ___ er morgen kommt.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "b", explanation: "dass = that", explanationDetail: "Dass for indirect speech.", tags: ["conjunctions", "mixed", "dass"] },
    { type: "multiple-choice", text: "___ wir uns trafen, war es kalt.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "mixed", "als"] },
    { type: "multiple-choice", text: "Wir bleiben zu Hause, ___ das Wetter schlecht ist.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "a", explanation: "weil = because", explanationDetail: "Weil gives reason.", tags: ["conjunctions", "mixed", "weil"] },
    { type: "multiple-choice", text: "___ ich Zeit habe, besuche ich dich.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "a", explanation: "wenn = when/if", explanationDetail: "Wenn for future/repeated.", tags: ["conjunctions", "mixed", "wenn"] },
    { type: "multiple-choice", text: "Sie weiß, ___ er heute kommt.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "b", explanation: "dass = that", explanationDetail: "Dass for reported fact.", tags: ["conjunctions", "mixed", "dass"] },
    { type: "multiple-choice", text: "___ ich ihn traf, trug er einen Hut.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "mixed", "als"] },
    { type: "multiple-choice", text: "Ich lache, ___ der Witz lustig ist.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "a", explanation: "weil = because", explanationDetail: "Weil gives reason.", tags: ["conjunctions", "mixed", "weil"] },
    { type: "multiple-choice", text: "___ du möchtest, können wir früher gehen.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "a", explanation: "wenn = if", explanationDetail: "Wenn for condition.", tags: ["conjunctions", "mixed", "wenn"] },
    { type: "multiple-choice", text: "Er behauptet, ___ er es nicht war.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "b", explanation: "dass = that", explanationDetail: "Dass for claim.", tags: ["conjunctions", "mixed", "dass"] },
    { type: "multiple-choice", text: "___ die Sonne schien, waren wir am Strand.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for past event.", tags: ["conjunctions", "mixed", "als"] },
  ];
  const extra = [
    { type: "multiple-choice", text: "Du bist müde, ___ du wenig geschlafen hast.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "a", explanation: "weil = because", explanationDetail: "Weil gives reason.", tags: ["conjunctions", "mixed", "weil"] },
    { type: "multiple-choice", text: "___ ich ihn anrufe, ist er beschäftigt.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "a", explanation: "wenn = when", explanationDetail: "Wenn for repeated.", tags: ["conjunctions", "mixed", "wenn"] },
    { type: "multiple-choice", text: "Es stimmt, ___ sie verreist ist.", options: opt("weil", "dass", "wenn", "als"), correctAnswerId: "b", explanation: "dass = that", explanationDetail: "Dass for fact.", tags: ["conjunctions", "mixed", "dass"] },
    { type: "multiple-choice", text: "___ ich sie zum ersten Mal sah, verliebte ich mich.", options: opt("Wenn", "Als", "Weil", "Dass"), correctAnswerId: "b", explanation: "als = when (past)", explanationDetail: "Als for one-time past.", tags: ["conjunctions", "mixed", "als"] },
  ];
  const all = [...qs, ...extra];
  while (all.length < n) all.push(...qs.map((q, i) => ({ ...q, text: q.text.replace(/\.$/, "") + " (Variante " + (all.length + 1) + ")." })).slice(0, n - all.length));
  return all.slice(0, n);
}

export const NEW_QUESTIONS_BY_FILE = {
  "mini-test-12-weil-dass.json": weilDass(40),
  "mini-test-13-wenn-als.json": wennAls(40),
  "mini-test-14-contrast-consequence.json": contrast(40),
  "mini-test-15-conjunctions-mixed.json": mixed(40),
};
